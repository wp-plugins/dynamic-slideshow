(function(d){d.fn.uBillboard=function(a){ function q(b,c){b=b*c;for(i=0;i<b;i++)p(i,f,a.speed,Math.round(Math.random()*a.speed))}function r(b,c){b=b*c;for(i=0;i<b;i++)p(i,f,a.speed,i*70)}function s(b,c){var e=0;for(i=0;i<c;i++)for(j=0;j<b;j++){p(j*c+i,f,a.speed,e*70);e++}}function t(b,c,e){switch(b){case 1:q(c,e);break;case 2:r(c,e);break;case 3:s(c,e);break}}a=d.extend({speed:600,delay:3E3,width:ss_width+"px",height:ss_height+"px",effect:"cycle",square_resolution:94,load_check_interval:100,description_opacity:0.6,family:family,color:color,size:size,weight:weight,position:position,
loader_image:"images/loading.gif"},a);var f,m,z=[],g=[],k=0,n=1,o=1,u=Math.ceil(parseInt(a.width)/a.square_resolution),v=Math.ceil(parseInt(a.height)/a.square_resolution),p=function(b,c,e,h){function l(){jQuery(".square"+b,c).stop().animate({opacity:1},e)}setTimeout(l,h)},A=function(b,c){f.css({"background-image":"url("+g[k].src+")","background-position":"0px 0px"});d("div",f).css({"background-image":"url("+g[n].src+")",opacity:"0"});switch(a.effect){case "async":q(b,c);break;case "horizontal":r(b,
c);break;case "vertical":s(b,c);break;case "random":var e=Math.round(Math.random()*2+1);t(e,b,c);break;case "cycle":default:t(o,b,c)}if(o==3)o=1;else o++;if(g.length-1==k)k=0;else k++;if(g.length-1==n)n=0;else n++;d(f).unbind("click").click(function(){window.location=g[k].url});d(m).animate({top:a.height},{duration:300,complete:function(){if(g[k].alt!=""){d(this).text(g[k].alt);d(m).animate({top:parseInt(a.height)-43+"px"},{duration:300})}}})};return this.each(function(){function b(h,l,w){function B(){if(g[0].el.complete){f.css({"background-image":"url("+
g[0].src+")"});clearInterval(h);h=setInterval(function(){A(l,w)},a.delay+a.speed)}else b(h,l,w)}setTimeout(B,a.load_check_interval)}f=d(this);if(!(d("img",f).size()<2)){f.css({"background-image":"url("+a.loader_image+")","background-position":"0px 0px","background-repeat":"no-repeat",width:a.width,height:a.height,overflow:"hidden",margin:"auto",position:"relative",cursor:"pointer"});d("img",f).each(function(h,l){h="#";if(d(l).parent().is("a"))h=d(l).parent().attr("href");g.push({src:d(this).attr("src"),
el:this,url:h,alt:d(this).attr("alt")});d(this).detach()});m=d('<span class="description">'+g[0].alt+"</span>");m.css({display:"block",opacity:a.description_opacity,position:"absolute",zIndex:1E3,height:"42px",width:parseInt(a.width)-20+"px",color:a.color,fontWeight:a.weight,fontSize:a.size+"px",fontFamily:a.family,textAlign:"center",padding:a.position,background:"black",top:a.height});f.append(m);var c=0;for(y=0;y<v;y++)for(x=0;x<u;x++){var e=document.createElement("div");e.style.backgroundPosition=-x*a.square_resolution+"px "+-y*a.square_resolution+"px";
e.style.left=x*a.square_resolution+"px";e.style.top=y*a.square_resolution+"px";d(e).addClass("square"+c);f.append(e);z.push(e.id);c++}d("div",f).css({"background-repeat":"no-repeat",opacity:"0",width:a.square_resolution+"px",height:a.square_resolution+"px",position:"absolute","z-index":1});if(g[0].alt!=""){d(this).text();d(m).animate({top:parseInt(a.height)-43+"px"},{duration:300})}b(void 0,v,u)}})}})(jQuery);